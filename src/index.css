@import url('https://fonts.googleapis.com/css2?family=DM+Sans:ital,opsz,wght@0,9..40,100..1000;1,9..40,100..1000&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* StrapHub Color Palette - Cool Teal/Slate Professional Theme */
    --background: 0 0% 100%;
    --foreground: 220 20% 10%;
    
    /* Header - Slightly off-white */
    --header: 220 15% 98%;
    --header-foreground: 220 20% 10%;

    --card: 0 0% 100%;
    --card-foreground: 220 20% 10%;

    --popover: 0 0% 100%;
    --popover-foreground: 220 20% 10%;

    /* Primary - Deep Teal */
    --primary: 185 70% 35%;
    --primary-foreground: 0 0% 100%;

    /* Secondary - Light Gray */
    --secondary: 220 15% 96%;
    --secondary-foreground: 220 20% 10%;

    /* Muted - Subtle Gray */
    --muted: 220 15% 95%;
    --muted-foreground: 220 10% 45%;

    /* Accent - Teal Highlight */
    --accent: 185 65% 45%;
    --accent-foreground: 0 0% 100%;

    /* Destructive - Error Red */
    --destructive: 0 84% 60%;
    --destructive-foreground: 0 0% 100%;

    /* Success - Green */
    --success: 160 60% 40%;
    --success-foreground: 0 0% 100%;

    /* Sale/Badge - Warm Orange */
    --sale: 25 95% 55%;
    --sale-foreground: 0 0% 100%;

    /* Border & Input */
    --border: 220 15% 90%;
    --input: 220 15% 90%;
    --ring: 185 70% 35%;

    --radius: 0.5rem;

    /* Announcement Bar */
    --announcement: 185 70% 35%;
    --announcement-foreground: 0 0% 100%;

    /* Trust Section */
    --trust-bg: 220 15% 97%;

    /* Product Gallery Background */
    --gallery-bg: 220 15% 97%;
    
    /* Filter Sidebar Background */
    --filter-bg: 220 15% 98%;

    /* Sidebar */
    --sidebar-background: 0 0% 98%;
    --sidebar-foreground: 220 10% 30%;
    --sidebar-primary: 185 70% 35%;
    --sidebar-primary-foreground: 0 0% 100%;
    --sidebar-accent: 220 15% 95%;
    --sidebar-accent-foreground: 220 20% 10%;
    --sidebar-border: 220 15% 90%;
    --sidebar-ring: 185 70% 35%;

    /* Hero Gradient */
    --hero-gradient: linear-gradient(135deg, hsl(185 70% 35%) 0%, hsl(200 60% 30%) 100%);
    --hero-overlay: linear-gradient(90deg, rgba(0,0,0,0.5) 0%, rgba(0,0,0,0.2) 50%, rgba(0,0,0,0) 100%);

    /* Shadows */
    --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
    --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
    --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
    --shadow-product: 0 2px 8px rgba(0, 0, 0, 0.08);
    --shadow-product-hover: 0 8px 25px rgba(0, 0, 0, 0.12);
  }

  .dark {
    --background: 220 20% 8%;
    --foreground: 220 15% 95%;
    
    --header: 220 20% 12%;
    --header-foreground: 220 15% 95%;

    --card: 220 20% 12%;
    --card-foreground: 220 15% 95%;

    --popover: 220 20% 12%;
    --popover-foreground: 220 15% 95%;

    --primary: 185 60% 50%;
    --primary-foreground: 220 20% 8%;

    --secondary: 220 15% 18%;
    --secondary-foreground: 220 15% 95%;

    --muted: 220 15% 18%;
    --muted-foreground: 220 10% 60%;

    --accent: 185 55% 55%;
    --accent-foreground: 220 20% 8%;

    --destructive: 0 70% 50%;
    --destructive-foreground: 0 0% 100%;

    --success: 160 50% 45%;
    --success-foreground: 0 0% 100%;

    --sale: 25 90% 50%;
    --sale-foreground: 0 0% 100%;

    --border: 220 15% 20%;
    --input: 220 15% 20%;
    --ring: 185 60% 50%;

    --announcement: 185 60% 50%;
    --announcement-foreground: 220 20% 8%;

    --trust-bg: 220 15% 12%;

    /* Product Gallery Background */
    --gallery-bg: 220 15% 12%;
    
    /* Filter Sidebar Background */
    --filter-bg: 220 15% 14%;

    --sidebar-background: 220 20% 10%;
    --sidebar-foreground: 220 10% 80%;
    --sidebar-primary: 185 60% 50%;
    --sidebar-primary-foreground: 220 20% 8%;
    --sidebar-accent: 220 15% 18%;
    --sidebar-accent-foreground: 220 15% 95%;
    --sidebar-border: 220 15% 20%;
    --sidebar-ring: 185 60% 50%;

    --hero-gradient: linear-gradient(135deg, hsl(185 60% 25%) 0%, hsl(200 50% 20%) 100%);
    --shadow-product: 0 2px 8px rgba(0, 0, 0, 0.3);
    --shadow-product-hover: 0 8px 25px rgba(0, 0, 0, 0.4);
  }
}

@layer base {
  * {
    @apply border-border;
    box-sizing: border-box;
  }

  html {
    scroll-behavior: smooth;
    overflow-x: hidden;
  }

  body {
    @apply bg-background text-foreground font-sans antialiased;
    overflow-x: hidden;
    max-width: 100vw;
    width: 100%;
  }
  
  /* Prevent any element from causing horizontal overflow */
  img, video, iframe, embed, object {
    max-width: 100%;
    height: auto;
  }
  
  /* Ensure text wraps properly on mobile */
  h1, h2, h3, h4, h5, h6, p, span, a, li {
    word-wrap: break-word;
    overflow-wrap: break-word;
  }
}

@layer components {
  /* Announcement Bar Animation - contained to prevent overflow */
  .announcement-scroll {
    animation: scroll-left 30s linear infinite;
    width: max-content;
  }

  @keyframes scroll-left {
    0% {
      transform: translateX(0);
    }
    100% {
      transform: translateX(-50%);
    }
  }
  
  /* Container with overflow hidden */
  .overflow-container {
    overflow-x: hidden;
    width: 100%;
    max-width: 100%;
  }

  /* Product Card Hover Effects */
  .product-card {
    @apply relative overflow-hidden transition-all duration-300;
  }

  .product-card:hover {
    box-shadow: var(--shadow-product-hover);
    transform: translateY(-4px);
  }

  .product-card .product-image-secondary {
    @apply absolute inset-0 opacity-0 transition-opacity duration-300;
  }

  .product-card:hover .product-image-secondary {
    @apply opacity-100;
  }

  .product-card .quick-add {
    @apply absolute bottom-0 left-0 right-0 transform translate-y-full transition-transform duration-300;
  }

  .product-card:hover .quick-add {
    @apply translate-y-0;
  }

  /* Badge Styles */
  .badge-sale {
    @apply bg-success text-success-foreground px-2 py-0.5 text-xs font-semibold rounded;
  }

  .badge-free-shipping {
    @apply bg-sale text-sale-foreground px-2 py-0.5 text-xs font-semibold rounded;
  }
  
  /* In Stock / Out of Stock badges */
  .badge-in-stock {
    @apply bg-success/10 text-success px-2 py-0.5 text-xs font-semibold rounded flex items-center gap-1;
  }
  
  .badge-out-of-stock {
    @apply bg-destructive/10 text-destructive px-2 py-0.5 text-xs font-semibold rounded flex items-center gap-1;
  }

  .badge-bestseller {
    @apply bg-primary text-primary-foreground px-2 py-0.5 text-xs font-semibold rounded;
  }

  /* Trust Icons */
  .trust-icon {
    @apply w-12 h-12 text-primary;
  }

  /* Swatches */
  .swatch {
    @apply w-8 h-8 rounded-full border-2 border-transparent cursor-pointer transition-all duration-200;
  }

  .swatch:hover {
    @apply scale-110;
  }

  .swatch.selected {
    @apply border-primary ring-2 ring-primary ring-offset-2;
  }

  /* Sticky Add to Cart Mobile */
  .sticky-atc {
    @apply fixed bottom-0 left-0 right-0 bg-background border-t border-border p-4 shadow-lg z-50 md:hidden;
  }

  /* Filter Sidebar */
  .filter-section {
    @apply border-b border-border py-4;
  }

  .filter-section:last-child {
    @apply border-b-0;
  }

  /* Mega Menu */
  .mega-menu {
    @apply absolute top-full left-0 w-full bg-background shadow-lg border-t border-border opacity-0 invisible transition-all duration-200;
  }

  .mega-menu-trigger:hover .mega-menu,
  .mega-menu:hover {
    @apply opacity-100 visible;
  }

  /* Cart Drawer */
  .cart-drawer {
    @apply fixed inset-y-0 right-0 w-full max-w-md bg-background shadow-xl transform translate-x-full transition-transform duration-300 z-50;
  }

  .cart-drawer.open {
    @apply translate-x-0;
  }

  /* Quantity Selector */
  .qty-btn {
    @apply w-10 h-10 flex items-center justify-center border border-border hover:bg-muted transition-colors;
  }

  /* Hero Section */
  .hero-gradient {
    background: var(--hero-gradient);
  }

  .hero-overlay {
    background: var(--hero-overlay);
  }

  /* Collection Grid */
  .collection-grid {
    @apply grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 md:gap-6;
  }

  /* Accordion */
  .accordion-content {
    @apply overflow-hidden transition-all duration-300;
  }

  /* Payment Icons */
  .payment-icon {
    @apply h-8 w-auto grayscale opacity-70 hover:grayscale-0 hover:opacity-100 transition-all duration-200;
  }
}

@layer utilities {
  .text-balance {
    text-wrap: balance;
  }

  .line-clamp-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  .aspect-product {
    aspect-ratio: 1 / 1;
  }

  .bg-trust {
    background-color: hsl(var(--trust-bg));
  }
}
